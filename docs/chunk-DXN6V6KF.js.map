{
  "version": 3,
  "sources": ["../src/js/utils/storage.js", "../src/js/_globals.js", "../src/js/tools/Logger.js"],
  "sourcesContent": ["/**\n * A VEEERRY siplified version to polyfill Web Storage if inaccessible\n *\n * Refer to:\n * - https://gist.github.com/jarrodirwin/0ce4c0888336b533b2c4\n * - https://gist.github.com/remy/350433\n */\nconst noop = () => {}\n\nfunction MockedStorage () {\n  return {\n    length: 0,\n    clear: noop,\n    getItem: noop,\n    key: noop,\n    setItem: noop,\n    removeItem: noop\n  }\n}\n\nexport function getStorage (self) {\n  try {\n    // Check for Web Storage existence.\n    if (!self.localStorage || !self.sessionStorage) throw 'no storage!' // eslint-disable-line no-throw-literal\n\n    // Test Web Storage accessibility - Needed for Safari private browsing.\n    self.localStorage.setItem('storage_test', '1')\n    self.localStorage.removeItem('storage_test')\n\n    return [self.localStorage, self.sessionStorage]\n  } catch (e) {\n    // create simple mocked implementations\n    const ls = new MockedStorage()\n    const ss = new MockedStorage()\n\n    return [ls, ss]\n  }\n}\n", "// We needed a global Promise polyfill, because the `whatwg-fetch` expects it\n// import 'promise-polyfill/dist/polyfill.min.js'\n// import 'whatwg-fetch'\n// ** (As I changed the browserslist criteria there's no need for the polyfills anymore)\n\nimport { getStorage } from './utils/storage.js'\n\n/**\n * Note: `window` should only be used directly in cases where it can't be avoided,\n * such as getting and setting window.onerror / window.onunload\n */\n\nconst globals = (function () {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') return self // eslint-disable-line no-undef\n\n  if (typeof global !== 'undefined') return global // eslint-disable-line no-undef\n\n  if (typeof window !== 'undefined') return window // eslint-disable-line no-undef\n\n  throw new Error('unable to locate global object')\n})()\n\n// prevent silent errors for globally exposed PubSub\n// delete globals.PubSub; // TODO: uncomment this line when all global PubSub calls are rewritten\n\nconst [ls, ss] = getStorage(globals)\n\nexport const clearTimeout = globals.clearTimeout.bind(globals)\nexport const console = globals.console\nexport const document = globals.document\nexport const history = globals.history\nexport const Error = globals.Error\nexport const fetch = globals.fetch\nexport const navigator = globals.navigator\nexport const localStorage = ls\nexport const location = globals.location\nexport const JSON = globals.JSON\nexport const Promise = globals.Promise\nexport const setTimeout = globals.setTimeout.bind(globals)\nexport const sessionStorage = ss\nexport const window = globals.window\n\nexport default globals\n", "import { console, localStorage } from '../_globals.js'\n\nconst CONFIG = {\n  DEBUG: 1,\n  INFO: 2,\n  LOG: 3,\n  WARN: 4,\n  ERROR: 5,\n  OFF: 10\n}\n\nexport const LEVELS = Object.keys(CONFIG).reduce((o, key) => {\n  o[key] = key\n  return o\n}, {})\n\nexport class Logger {\n  constructor (key = 'debug') {\n    this._key = key\n\n    let debug = 'false'\n\n    try {\n      debug = localStorage.getItem(this._key) || 'false'\n    } catch (e) {\n      // it seems we should not care as fallback below if localStorage fail in some private mode or sth...\n    }\n\n    // we are forcing setter call\n    this.logLevel = debug\n  }\n\n  get logLevel () {\n    return this._logLevel\n  }\n\n  set logLevel (level) {\n    const name = CONFIG[level] ? level : 'OFF'\n    const value = CONFIG[name]\n\n    this._logLevel = {\n      name,\n      value\n    }\n  }\n\n  debug () {\n    if (this.logLevel.value <= CONFIG.DEBUG) {\n      console.debug(LEVELS.DEBUG, '::', ...arguments)\n    }\n  }\n\n  info () {\n    if (this.logLevel.value <= CONFIG.INFO) {\n      console.info(LEVELS.INFO, '::', ...arguments)\n    }\n  }\n\n  log () {\n    if (this.logLevel.value <= CONFIG.LOG) {\n      console.log(LEVELS.LOG, '::', ...arguments)\n    }\n  }\n\n  warn () {\n    if (this.logLevel.value <= CONFIG.WARN) {\n      console.warn(LEVELS.WARN, '::', ...arguments)\n    }\n  }\n\n  error () {\n    if (this.logLevel.value <= CONFIG.ERROR) {\n      console.error(LEVELS.ERROR, '::', ...arguments)\n    }\n  }\n}\n\nexport const Log = new Logger()\n"],
  "mappings": "+jBAOA,IAAMA,EAAO,IAAM,CAAC,EAEpB,SAASC,GAAiB,CACxB,MAAO,CACL,OAAQ,EACR,MAAOD,EACP,QAASA,EACT,IAAKA,EACL,QAASA,EACT,WAAYA,CACd,CACF,CAEO,SAASE,EAAYC,EAAM,CAChC,GAAI,CAEF,GAAI,CAACA,EAAK,cAAgB,CAACA,EAAK,eAAgB,KAAM,cAGtD,OAAAA,EAAK,aAAa,QAAQ,eAAgB,GAAG,EAC7CA,EAAK,aAAa,WAAW,cAAc,EAEpC,CAACA,EAAK,aAAcA,EAAK,cAAc,CAChD,MAAE,CAEA,IAAMC,EAAK,IAAIH,EACTI,EAAK,IAAIJ,EAEf,MAAO,CAACG,EAAIC,CAAE,CAChB,CACF,CCzBA,IAAMC,EAAW,UAAY,CAI3B,GAAI,OAAO,KAAS,IAAa,OAAO,KAExC,GAAI,OAAO,OAAW,IAAa,OAAO,OAE1C,GAAI,OAAOC,EAAW,IAAa,OAAOA,EAE1C,MAAM,IAAIC,EAAM,gCAAgC,CAClD,EAAG,EAKG,CAACC,EAAIC,CAAE,EAAIC,EAAWL,CAAO,EAEtBM,EAAeN,EAAQ,aAAa,KAAKA,CAAO,EAChDO,EAAUP,EAAQ,QAClBQ,EAAWR,EAAQ,SACnBS,EAAUT,EAAQ,QAClBE,EAAQF,EAAQ,MAChBU,EAAQV,EAAQ,MAChBW,EAAYX,EAAQ,UACpBY,EAAeT,EACfU,EAAWb,EAAQ,SACnBc,EAAOd,EAAQ,KACfe,EAAUf,EAAQ,QAClBgB,EAAahB,EAAQ,WAAW,KAAKA,CAAO,EAElD,IAAMiB,EAASC,EAAQ,OCzC9B,IAAMC,EAAS,CACb,MAAO,EACP,KAAM,EACN,IAAK,EACL,KAAM,EACN,MAAO,EACP,IAAK,EACP,EAEaC,EAAS,OAAO,KAAKD,CAAM,EAAE,OAAO,CAACE,EAAGC,KACnDD,EAAEC,GAAOA,EACFD,GACN,CAAC,CAAC,EAEQE,EAAN,KAAa,CAClB,YAAaD,EAAM,QAAS,CAC1B,KAAK,KAAOA,EAEZ,IAAIE,EAAQ,QAEZ,GAAI,CACFA,EAAQC,EAAa,QAAQ,KAAK,IAAI,GAAK,OAC7C,MAAE,CAEF,CAGA,KAAK,SAAWD,CAClB,CAEA,IAAI,UAAY,CACd,OAAO,KAAK,SACd,CAEA,IAAI,SAAUE,EAAO,CACnB,IAAMC,EAAOR,EAAOO,GAASA,EAAQ,MAC/BE,EAAQT,EAAOQ,GAErB,KAAK,UAAY,CACf,KAAAA,EACA,MAAAC,CACF,CACF,CAEA,OAAS,CACH,KAAK,SAAS,OAAST,EAAO,OAChCU,EAAQ,MAAMT,EAAO,MAAO,KAAM,GAAG,SAAS,CAElD,CAEA,MAAQ,CACF,KAAK,SAAS,OAASD,EAAO,MAChCU,EAAQ,KAAKT,EAAO,KAAM,KAAM,GAAG,SAAS,CAEhD,CAEA,KAAO,CACD,KAAK,SAAS,OAASD,EAAO,KAChCU,EAAQ,IAAIT,EAAO,IAAK,KAAM,GAAG,SAAS,CAE9C,CAEA,MAAQ,CACF,KAAK,SAAS,OAASD,EAAO,MAChCU,EAAQ,KAAKT,EAAO,KAAM,KAAM,GAAG,SAAS,CAEhD,CAEA,OAAS,CACH,KAAK,SAAS,OAASD,EAAO,OAChCU,EAAQ,MAAMT,EAAO,MAAO,KAAM,GAAG,SAAS,CAElD,CACF,EAEaU,EAAM,IAAIP",
  "names": ["noop", "MockedStorage", "getStorage", "self", "ls", "ss", "globals", "window", "Error", "ls", "ss", "getStorage", "clearTimeout", "console", "document", "history", "fetch", "navigator", "localStorage", "location", "JSON", "Promise", "setTimeout", "window", "globals", "CONFIG", "LEVELS", "o", "key", "Logger", "debug", "localStorage", "level", "name", "value", "console", "Log"]
}
