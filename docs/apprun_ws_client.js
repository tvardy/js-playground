import{a as i}from"./chunk-7NXXG4DR.js";import{a as m}from"./chunk-M5O3SXJ6.js";import{a as n,b as r,f as s,h as u}from"./chunk-BZFIDKTD.js";var p=class extends Component{constructor(){super(...arguments);s(this,"state",{value:0});s(this,"view",({value:e,dir:o})=>app.h("div",{class:"box middle",style:"text-align: center"},o==="up"?"\u2191":"",o==="down"?"\u2193":"",o===null?"= ":"",e));s(this,"mounted",(e,o,c)=>{let l=null;return e.value>c.value&&(l="up"),e.value<c.value&&(l="down"),n({dir:l},e)})}};u.debug("AppRun Client script started!");var d=({status:t,value:e})=>app.h(app.Fragment,null,app.h("h1",null,"Client Works!"),app.h("h2",null,"Status: ",t),app.h(p,{value:e})),v={async init(t){try{return a.ws=await m(i.URL),u.debug("WS connected"),a.ws.on("data",e=>{a.run("update",e)}),r(n({},t),{status:"connected"})}catch(e){return u.error("WS error:",e),r(n({},t),{status:"error"})}},update(t,e){return r(n({},t),{value:e})}},a=app.start(i.APP_ROOT,{status:"connecting",value:0},d,v);a.run("init");
//# sourceMappingURL=apprun_ws_client.js.map
