{
  "version": 3,
  "sources": ["../src/js/components/AppRunSimpleComponent.jsx", "../src/js/apprun_ws_client.jsx"],
  "sourcesContent": ["/* global Component */\nexport class SimpleComponent extends Component {\n  state = {\n    value: 0\n  }\n\n  view = ({ value, dir }) => (\n    <div class=\"box middle\" style=\"text-align: center\">\n      {dir === 'up' ? '\u2191' : ''}\n      {dir === 'down' ? '\u2193' : ''}\n      {dir === null ? '= ' : ''}\n      {value}\n    </div>\n  )\n\n  mounted = (props, children, state) => {\n    let dir = null\n\n    if (props.value > state.value) {\n      dir = 'up'\n    }\n\n    if (props.value < state.value) {\n      dir = 'down'\n    }\n\n    return { dir, ...props }\n  }\n}\n", "/* global app, io */\nimport { LEVELS, Log } from './tools/Logger.js'\nimport { constants } from './apprun_ws_common.js'\nimport { wsConnect } from './utils/wsConnect.js'\n\nimport { SimpleComponent } from './components/AppRunSimpleComponent.jsx'\n\nif (process.env.NODE_ENV === 'development') {\n  Log.logLevel = LEVELS.DEBUG\n}\n\nLog.debug('AppRun Client script started!')\n\nconst view = ({ status, value }) => (\n  <>\n    <h1>Client Works!</h1>\n    <h2>Status: {status}</h2>\n    <SimpleComponent value={value} />\n  </>\n)\n\nconst update = {\n  async init (state) {\n    try {\n      App.ws = await wsConnect(constants.URL)\n\n      Log.debug('WS connected')\n\n      App.ws.on('data', (data) => {\n        App.run('update', data)\n      })\n\n      return {\n        ...state,\n        status: 'connected'\n      }\n    } catch (e) {\n      Log.error('WS error:', e)\n\n      return {\n        ...state,\n        status: 'error'\n      }\n    }\n  },\n  update (state, value) {\n    return {\n      ...state,\n      value\n    }\n  }\n}\n\nconst App = app.start(\n  constants.APP_ROOT,\n  { status: 'connecting', value: 0 },\n  view,\n  update\n)\n\nApp.run('init')\n"],
  "mappings": "6IACO,mBAA8B,UAAU,CAAxC,aADP,CACO,oBACL,eAAQ,CACN,MAAO,IAGT,cAAO,CAAC,CAAE,QAAO,SACf,MAAC,MAAD,CAAK,MAAM,aAAa,MAAM,sBAC3B,IAAQ,KAAO,SAAM,GACrB,IAAQ,OAAS,SAAM,GACvB,IAAQ,KAAO,KAAO,GACtB,IAIL,iBAAU,CAAC,EAAO,EAAU,IAAU,CACpC,GAAI,GAAM,KAEV,MAAI,GAAM,MAAQ,EAAM,OACtB,GAAM,MAGJ,EAAM,MAAQ,EAAM,OACtB,GAAM,QAGD,GAAE,OAAQ,OCfrB,EAAI,MAAM,iCAEV,GAAM,GAAO,CAAC,CAAE,SAAQ,WACtB,wBACE,MAAC,KAAD,KAAI,iBACJ,MAAC,KAAD,KAAI,WAAS,GACb,MAAC,EAAD,CAAiB,MAAO,KAItB,EAAS,MACP,MAAM,EAAO,CACjB,GAAI,CACF,SAAI,GAAK,KAAM,GAAU,EAAU,KAEnC,EAAI,MAAM,gBAEV,EAAI,GAAG,GAAG,OAAQ,AAAC,GAAS,CAC1B,EAAI,IAAI,SAAU,KAGb,OACF,GADE,CAEL,OAAQ,oBAEH,EAAP,CACA,SAAI,MAAM,YAAa,GAEhB,OACF,GADE,CAEL,OAAQ,YAId,OAAQ,EAAO,EAAO,CACpB,MAAO,QACF,GADE,CAEL,YAKA,EAAM,IAAI,MACd,EAAU,SACV,CAAE,OAAQ,aAAc,MAAO,GAC/B,EACA,GAGF,EAAI,IAAI",
  "names": []
}
