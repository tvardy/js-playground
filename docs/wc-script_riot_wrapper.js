(()=>{function Wt(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mt(t){return t.replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function Zt(t){return Array.from(t.attributes).reduce((e,n)=>(e[mt(n.name)]=n.value,e),{})}function Et(t,e){t.firstChild&&(e.appendChild(t.firstChild),Et(t,e))}function Jt(t){Ot(t.childNodes)}function Ot(t){Array.from(t).forEach(T)}var T=t=>t&&t.parentNode&&t.parentNode.removeChild(t),O=(t,e)=>e&&e.parentNode&&e.parentNode.insertBefore(t,e),Qt=(t,e)=>e&&e.parentNode&&e.parentNode.replaceChild(t,e),C=new Map,Tt=Symbol("riot-component"),gt=new Set,F="is",te="value",y="mount",V="update",G="unmount",q="shouldUpdate",X="onBeforeMount",W="onMounted",Z="onBeforeUpdate",J="onUpdated",Q="onBeforeUnmount",tt="onUnmounted",f="props",d="state",et="slots",nt="root",x=Symbol("pure"),j=Symbol("is_updating"),N=Symbol("parent"),b=Symbol("attributes"),v=Symbol("template"),ee=Object.freeze({__proto__:null,COMPONENTS_IMPLEMENTATION_MAP:C,DOM_COMPONENT_INSTANCE_PROPERTY:Tt,PLUGINS_SET:gt,IS_DIRECTIVE:F,VALUE_ATTRIBUTE:te,MOUNT_METHOD_KEY:y,UPDATE_METHOD_KEY:V,UNMOUNT_METHOD_KEY:G,SHOULD_UPDATE_KEY:q,ON_BEFORE_MOUNT_KEY:X,ON_MOUNTED_KEY:W,ON_BEFORE_UPDATE_KEY:Z,ON_UPDATED_KEY:J,ON_BEFORE_UNMOUNT_KEY:Q,ON_UNMOUNTED_KEY:tt,PROPS_KEY:f,STATE_KEY:d,SLOTS_KEY:et,ROOT_KEY:nt,IS_PURE_SYMBOL:x,IS_COMPONENT_UPDATING:j,PARENT_KEY_SYMBOL:N,ATTRIBUTES_KEY_SYMBOL:b,TEMPLATE_KEY_SYMBOL:v}),Nt=0,bt=1,rt=2,Mt=3,_t=4,ne={EACH:Nt,IF:bt,SIMPLE:rt,TAG:Mt,SLOT:_t},D=0,it=1,w=2,ot=3,re={ATTRIBUTE:D,EVENT:it,TEXT:w,VALUE:ot},U=Symbol("head"),I=Symbol("tail");function ie(){let t=document.createTextNode(""),e=document.createTextNode("");return t[U]=!0,e[I]=!0,{head:t,tail:e}}function oe(t){let e=t.dom.cloneNode(!0),{head:n,tail:r}=ie();return{avoidDOMInjection:!0,fragment:e,head:n,tail:r,children:[n,...Array.from(e.childNodes),r]}}function se(t){let{head:e,tail:n}=t,r=vt([e],e.nextSibling,i=>i===n,!1);return r.push(n),r}function vt(t,e,n,r){let{nextSibling:i}=e;return!r&&!e[U]&&!e[I]&&t.push(e),!i||n(e)?t:vt(t,i,n,r&&!e[I]||i[U])}function At(t,e){return typeof t===e}function St(t){let e=t.ownerSVGElement;return!!e||e===null}function L(t){return t.tagName.toLowerCase()==="template"}function st(t){return At(t,"function")}function ue(t){return At(t,"boolean")}function Pt(t){return!ut(t)&&t.constructor===Object}function ut(t){return t==null}var ce=(t,e,n,r)=>{let i=e.length,o=t.length,s=i,u=0,c=0,l=null;for(;u<o||c<s;)if(o===u){let a=s<i?c?n(e[c-1],-0).nextSibling:n(e[s-c],0):r;for(;c<s;)O(n(e[c++],1),a)}else if(s===c)for(;u<o;)(!l||!l.has(t[u]))&&T(n(t[u],-1)),u++;else if(t[u]===e[c])u++,c++;else if(t[o-1]===e[s-1])o--,s--;else if(t[u]===e[s-1]&&e[c]===t[o-1]){let a=n(t[--o],-1).nextSibling;O(n(e[c++],1),n(t[u++],-1).nextSibling),O(n(e[--s],1),a),t[o]=e[s]}else{if(!l){l=new Map;let a=c;for(;a<s;)l.set(e[a],a++)}if(l.has(t[u])){let a=l.get(t[u]);if(c<a&&a<s){let h=u,p=1;for(;++h<o&&h<s&&l.get(t[h])===a+p;)p++;if(p>a-c){let E=n(t[u],0);for(;c<a;)O(n(e[c++],1),E)}else Qt(n(e[c++],1),n(t[u++],-1))}else u++}else T(n(t[u++],-1))}return e},Ct=Symbol("unmount"),ae={nodes:[],mount(t,e){return this.update(t,e)},update(t,e){let{placeholder:n,nodes:r,childrenMap:i}=this,o=t===Ct?null:this.evaluate(t),s=o?Array.from(o):[],{newChildrenMap:u,batches:c,futureNodes:l}=de(s,t,e,this);return ce(r,l,le(Array.from(i.values()),e),n),c.forEach(a=>a()),this.childrenMap=u,this.nodes=l,fe(this.nodes),this},unmount(t,e){return this.update(Ct,e),this}};function le(t,e){return(n,r)=>{if(r<0){let i=t[t.length-1];if(i){let{template:o,nodes:s,context:u}=i;s.pop(),s.length===0&&(t.pop(),o.unmount(u,e,null))}}return n}}function he(t,e){return t?Boolean(t(e))===!1:!1}function pe(t,e){let{itemName:n,indexName:r,index:i,item:o}=e;return t[n]=o,r&&(t[r]=i),t}function fe(t){let e=t[0],n=t[t.length-1];e&&(e[U]=!0),n&&(n[I]=!0)}function de(t,e,n,r){let{condition:i,template:o,childrenMap:s,itemName:u,getKey:c,indexName:l,root:a,isTemplateTag:h}=r,p=new Map,E=[],S=[];return t.forEach((Xt,R)=>{let _=pe(Object.create(e),{itemName:u,indexName:l,index:R,item:Xt}),k=c?c(_):R,$=s.get(k),P=[];if(he(i,_))return;let H=!$,g=$?$.template:o.clone(),dt=g.el||a.cloneNode(),z=h&&H?oe(g):g.meta;H?E.push(()=>g.mount(dt,_,n,z)):E.push(()=>g.update(_,n)),h?P.push(...H?z.children:se(z)):P.push(dt),s.delete(k),S.push(...P),p.set(k,{nodes:P,template:g,context:_,index:R})}),{newChildrenMap:p,batches:E,futureNodes:S}}function me(t,e){let{evaluate:n,condition:r,itemName:i,indexName:o,getKey:s,template:u}=e,c=document.createTextNode(""),l=t.cloneNode();return O(c,t),T(t),Object.assign({},ae,{childrenMap:new Map,node:t,root:l,condition:r,evaluate:n,isTemplateTag:L(l),template:u.createDOM(t),getKey:s,indexName:o,itemName:i,placeholder:c})}var Ee={mount(t,e){return this.update(t,e)},update(t,e){let n=!!this.evaluate(t),r=!this.value&&n,i=this.value&&!n,o=()=>{let s=this.node.cloneNode();O(s,this.placeholder),this.template=this.template.clone(),this.template.mount(s,t,e)};switch(!0){case r:o();break;case i:this.unmount(t);break;default:n&&this.template.update(t,e)}return this.value=n,this},unmount(t,e){return this.template.unmount(t,e,!0),this}};function Oe(t,e){let{evaluate:n,template:r}=e,i=document.createTextNode("");return O(i,t),T(t),Object.assign({},Ee,{node:t,evaluate:n,placeholder:i,template:r.createDOM(t)})}function Y(t){throw new Error(t)}function yt(t){let e=new Map,n=r=>(e.has(r)||e.set(r,t.call(this,r)))&&e.get(r);return n.cache=e,n}function ct(t){return t.reduce((e,n)=>{let{value:r,type:i}=n;switch(!0){case(!n.name&&i===D):return Object.assign({},e,r);case i===ot:e.value=n.value;break;default:e[mt(n.name)]=n.value}return e},{})}var Te=typeof Element=="undefined"?{}:Element.prototype,ge=yt(t=>Te.hasOwnProperty(t));function Ne(t,e){Object.entries(e).forEach(n=>{let[r,i]=n;return xt(t,{name:r},i)})}function be(t,e,n){let r=e?Object.keys(e):[];Object.keys(n).filter(i=>!r.includes(i)).forEach(i=>t.removeAttribute(i))}function Me(t){return t===!0||["string","number"].includes(typeof t)}function _e(t){return ut(t)||t===!1||t===""}function xt(t,e,n,r){let{name:i}=e;if(!i){r&&be(t,n,r),n&&Ne(t,n);return}!ge(i)&&(ue(n)||Pt(n)||st(n))&&(t[i]=n),_e(n)?t.removeAttribute(i):Me(n)&&t.setAttribute(i,ve(i,n))}function ve(t,e){return e===!0?t:e}var Ae=/^on/,Se=t=>Array.isArray(t)?t:[t,!1],Pe={handleEvent(t){this[t.type](t)}},jt=new WeakMap,Ce=t=>{let e=Object.create(Pe);return jt.set(t,e),e};function ye(t,e,n){let{name:r}=e,i=r.replace(Ae,""),o=jt.get(t)||Ce(t),[s,u]=Se(n),c=o[i],l=c&&!s,a=s&&!c;l&&t.removeEventListener(i,o),a&&t.addEventListener(i,o,u),o[i]=s}function Dt(t){return ut(t)?"":t}var xe=(t,e)=>{let n=t.childNodes[e];if(n.nodeType===Node.COMMENT_NODE){let r=document.createTextNode("");return t.replaceChild(r,n),r}return n};function je(t,e,n){t.data=Dt(n)}function De(t,e,n){t.value=Dt(n)}var we={[D]:xt,[it]:ye,[w]:je,[ot]:De},Ue={mount(t){return this.value=this.evaluate(t),at(this,this.value),this},update(t){let e=this.evaluate(t);return this.value!==e&&(at(this,e),this.value=e),this},unmount(){return this.type===it&&at(this,null),this}};function at(t,e){return we[t.type](t.node,t,e,t.value)}function wt(t,e){return Object.assign({},Ue,e,{node:e.type===w?xe(t,e.childNodeIndex):t})}function Ie(t,e,n){return e.reduce((r,i)=>Object.assign({},r,{[i]:o=>t.map(s=>s[i](o))&&n}),{})}function Le(t,e){let{expressions:n}=e;return Object.assign({},Ie(n.map(r=>wt(t,r)),["mount","update","unmount"]))}function Ye(t,e,n){if(!t||!t.length)return n;let r=t.map(i=>Object.assign({},i,{value:i.evaluate(e)}));return Object.assign(Object.create(n||null),ct(r))}var Ut=(t,e)=>t[N]||e,Be={attributes:[],getTemplateScope(t,e){return Ye(this.attributes,t,e)},mount(t,e){let n=t.slots?t.slots.find(o=>{let{id:s}=o;return s===this.name}):!1,{parentNode:r}=this.node,i=Ut(t,e);return this.template=n&&lt(n.html,n.bindings).createDOM(r),this.template&&(this.template.mount(this.node,this.getTemplateScope(t,i),i),this.template.children=Array.from(this.node.childNodes),It(this.node)),T(this.node),this},update(t,e){if(this.template){let n=Ut(t,e);this.template.update(this.getTemplateScope(t,n),n)}return this},unmount(t,e,n){return this.template&&this.template.unmount(this.getTemplateScope(t,e),null,n),this}};function It(t){let e=t&&t.firstChild;!e||(O(e,t),It(t))}function Ke(t,e){let{name:n,attributes:r}=e;return Object.assign({},Be,{attributes:r,node:t,name:n})}function Re(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=[]),t?t({slots:e,attributes:n}):lt($e(e),[...ke(e),{expressions:n.map(r=>Object.assign({type:D},r))}])}function ke(t){return t.reduce((e,n)=>{let{bindings:r}=n;return e.concat(r)},[])}function $e(t){return t.reduce((e,n)=>e+n.html,"")}var He={mount(t){return this.update(t)},update(t,e){let n=this.evaluate(t);return n&&n===this.name?this.tag.update(t):(this.unmount(t,e,!0),this.name=n,this.tag=Re(this.getComponent(n),this.slots,this.attributes),this.tag.mount(this.node,t)),this},unmount(t,e,n){return this.tag&&this.tag.unmount(n),this}};function ze(t,e){let{evaluate:n,getComponent:r,slots:i,attributes:o}=e;return Object.assign({},He,{node:t,evaluate:n,slots:i,attributes:o,getComponent:r})}var Lt={[bt]:Oe,[rt]:Le,[Nt]:me,[Mt]:ze,[_t]:Ke};function Fe(t,e){return t.map(n=>n.type===w?Object.assign({},n,{childNodeIndex:n.childNodeIndex+e}):n)}function Ve(t,e,n){let{selector:r,type:i,redundantAttribute:o,expressions:s}=e,u=r?t.querySelector(r):t;o&&u.removeAttribute(o);let c=s||[];return(Lt[i]||Lt[rt])(u,Object.assign({},e,{expressions:n&&!r?Fe(c,n):c}))}function Ge(t,e){let n=L(e)?e:document.createElement("template");return n.innerHTML=t,n.content}function qe(t,e){return e.ownerDocument.importNode(new window.DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${t}</svg>`,"application/xml").documentElement,!0)}function Xe(t,e){return St(t)?qe(e,t):Ge(e,t)}function We(t,e){switch(!0){case St(t):Et(e,t);break;case L(t):t.parentNode.replaceChild(e,t);break;default:t.appendChild(e)}}function Ze(t,e){return e&&(typeof e=="string"?Xe(t,e):e)}function Je(t,e,n){let r=Array.from(t.childNodes);return Math.max(r.indexOf(e),r.indexOf(n.head)+1,0)}var Qe=Object.freeze({createDOM(t){return this.dom=this.dom||Ze(t,this.html)||document.createDocumentFragment(),this},mount(t,e,n,r){if(r===void 0&&(r={}),!t)throw new Error("Please provide DOM node to mount properly your template");this.el&&this.unmount(e);let{fragment:i,children:o,avoidDOMInjection:s}=r,{parentNode:u}=o?o[0]:t,c=L(t),l=c?Je(u,t,r):null;this.createDOM(t);let a=i||this.dom.cloneNode(!0);return this.el=c?u:t,this.children=c?o||Array.from(a.childNodes):null,!s&&a&&We(t,a),this.bindings=this.bindingsData.map(h=>Ve(this.el,h,l)),this.bindings.forEach(h=>h.mount(e,n)),this.meta=r,this},update(t,e){return this.bindings.forEach(n=>n.update(t,e)),this},unmount(t,e,n){if(this.el){switch(this.bindings.forEach(r=>r.unmount(t,e,n)),!0){case this.el[x]:break;case(this.children&&n!==null):Ot(this.children);break;case n===!0:T(this.el);break;case n!==null:Jt(this.el);break}this.el=null}return this},clone(){return Object.assign({},this,{meta:{},el:null})}});function lt(t,e){return e===void 0&&(e=[]),Object.assign({},Qe,{html:t,bindingsData:e})}function m(){return this}function tn(t,e){return e.forEach(n=>{t[n]=t[n].bind(t)}),t}function B(t){return st(t)?t.prototype&&t.prototype.constructor?new t:t():t}function A(t,e,n,r){return r===void 0&&(r={}),Object.defineProperty(t,e,Object.assign({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function Yt(t,e,n){return Object.entries(e).forEach(r=>{let[i,o]=r;A(t,i,o,n)}),t}function Bt(t,e){return Object.entries(e).forEach(n=>{let[r,i]=n;t[r]||(t[r]=i)}),t}function ht(t){return Array.isArray(t)?t:/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&typeof t.length=="number"?Array.from(t):[t]}function K(t,e){return ht(typeof t=="string"?(e||document).querySelectorAll(t):t)}var Kt=t=>t.length===1?t[0]:t;function en(t,e,n){let r=typeof e=="string"?[e]:e;return Kt(ht(t).map(i=>Kt(r.map(o=>i[n](o)))))}function Rt(t,e,n){let r=typeof e=="object"?e:{[e]:n},i=Object.keys(r);return ht(t).forEach(o=>{i.forEach(s=>o.setAttribute(s,r[s]))}),t}function nn(t,e){return en(t,e,"getAttribute")}var M=new Map,rn="style[riot]",on=(t=>()=>t||(t=K(rn)[0]||document.createElement("style"),Rt(t,"type","text/css"),t.parentNode||document.head.appendChild(t),t))(),sn={CSS_BY_NAME:M,add(t,e){return M.has(t)||(M.set(t,e),this.inject()),this},inject(){return on().innerHTML=[...M.values()].join(`
`),this},remove(t){return M.has(t)&&(M.delete(t),this.inject()),this}};function kt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o=[...n,...o],o.length<t.length?kt(t,...o):t(...o)}}function $t(t){return nn(t,F)||t.tagName.toLowerCase()}var un=Object.freeze({$(t){return K(t,this.root)[0]},$$(t){return K(t,this.root)}}),Ht=Object.freeze({[y]:m,[V]:m,[G]:m}),cn=Object.freeze({[q]:m,[X]:m,[W]:m,[Z]:m,[J]:m,[Q]:m,[tt]:m}),an=Object.assign({},Ht,{clone:m,createDOM:m}),ln=yt(pt);function hn(t,e){return e===void 0&&(e={}),Object.assign({},Zt(t),B(e))}var zt=(t,e)=>t[Tt]=e;function Ft(t){return[y,V,G].reduce((e,n)=>(e[n]=t(n),e),{})}function pn(t,e){let n=En(e.exports?e.exports.components:{});return t(lt,re,ne,r=>r===e.name?ln(e):n[r]||C.get(r))}function fn(t,e){let{slots:n,attributes:r,props:i,css:o,template:s}=e;s&&Y("Pure components can not have html"),o&&Y("Pure components do not have css");let u=Bt(t({slots:n,attributes:r,props:i}),Ht);return Ft(c=>function(){for(var l=arguments.length,a=new Array(l),h=0;h<l;h++)a[h]=arguments[h];if(c===y){let[p]=a;p[x]=!0,zt(p,u)}return u[c](...a),u})}function pt(t){let{css:e,template:n,exports:r,name:i}=t,o=n?pn(n,t):an;return s=>{let{slots:u,attributes:c,props:l}=s;if(r&&r[x])return fn(r,{slots:u,attributes:c,props:l,css:e,template:n});let a=B(r)||{},h=dn({css:e,template:o,componentAPI:a,name:i})({slots:u,attributes:c,props:l});return{mount(p,E,S){return h.mount(p,S,E)},update(p,E){return h.update(E,p)},unmount(p){return h.unmount(p)}}}}function dn(t){let{css:e,template:n,componentAPI:r,name:i}=t;return e&&i&&sn.add(i,e),kt(gn)(Yt(Bt(r,Object.assign({},cn,{[f]:{},[d]:{}})),Object.assign({[et]:null,[nt]:null},un,{name:i,css:e,template:n})))}function mn(t,e){e===void 0&&(e=[]);let n=e.map(i=>wt(t,i)),r={};return Object.assign(r,Object.assign({expressions:n},Ft(i=>o=>(n.forEach(s=>s[i](o)),r))))}function En(t){return t===void 0&&(t={}),Object.entries(B(t)).reduce((e,n)=>{let[r,i]=n;return e[Wt(r)]=pt(i),e},{})}function On(t){return[...gt].reduce((e,n)=>n(e)||e,t)}function Vt(t,e){return Object.assign({},t,B(e))}function Tn(t,e){$t(t)!==e&&Rt(t,F,e)}function gn(t,e){let{slots:n,attributes:r,props:i}=e;return tn(On(Yt(Pt(t)?Object.create(t):t,{mount(o,s,u){return s===void 0&&(s={}),this[N]=u,this[b]=mn(o,r).mount(u),A(this,f,Object.freeze(Object.assign({},hn(o,i),ct(this[b].expressions)))),this[d]=Vt(this[d],s),this[v]=this.template.createDOM(o).clone(),zt(o,this),t.name&&Tn(o,t.name),A(this,nt,o),A(this,et,n),this[X](this[f],this[d]),this[v].mount(o,this,u),this[W](this[f],this[d]),this},update(o,s){o===void 0&&(o={}),s&&(this[N]=s,this[b].update(s));let u=ct(this[b].expressions);if(this[q](u,this[f])!==!1)return A(this,f,Object.freeze(Object.assign({},this[f],u))),this[d]=Vt(this[d],o),this[Z](this[f],this[d]),this[j]||(this[j]=!0,this[v].update(this,this[N])),this[J](this[f],this[d]),this[j]=!1,this},unmount(o){return this[Q](this[f],this[d]),this[b].unmount(),this[v].unmount(this,this[N],o===null?null:!o),this[tt](this[f],this[d]),this}})),Object.keys(t).filter(o=>st(t[o])))}function Nn(t,e,n){let r=n||$t(t);return C.has(r)||Y(`The component named "${r}" was never registered`),C.get(r)({props:e}).mount(t)}var{DOM_COMPONENT_INSTANCE_PROPERTY:_n,COMPONENTS_IMPLEMENTATION_MAP:ft,PLUGINS_SET:vn}=ee;function Gt(t,e){let{css:n,template:r,exports:i}=e;return ft.has(t)&&Y(`The component "${t}" was already registered`),ft.set(t,pt({name:t,css:n,template:r,exports:i})),ft}function qt(t,e,n){return K(t).map(r=>Nn(r,e,n))}var bn=(t,e="beforeend")=>{let n=t.dataset.target,r=n?document.querySelector(n):document.body,i=t.text.trim().replace(/\n\s+/gm,"");r.insertAdjacentHTML(e,i)},Mn={css:'simple-component-riot,[is="simple-component-riot"]{ display: block; padding: 2em; background: lightgreen; color: var(--shade2); text-align: center; cursor: pointer; } simple-component-riot.active,[is="simple-component-riot"].active{ background: var(--shade1); color: var(--shade0); } simple-component-riot.active > *,[is="simple-component-riot"].active > *{ color: inherit; } simple-component-riot h1,[is="simple-component-riot"] h1{ color: var(--shade1); } simple-component-riot p,[is="simple-component-riot"] p{ font-size: 0.8em; text-transform: uppercase; }',exports:{onBeforeMount(){this.state={count:0,active:!1}},onMounted(){this.$(".children").appendChild(this.root.children[0])},handleClick(){let{count:t,active:e}=this.state;this.update({count:t+1,active:!e})}},template:function(t,e,n,r){return t('<h3 expr0="expr0"> </h3><pre expr1="expr1"> </pre><div class="children"></div>',[{expressions:[{type:e.ATTRIBUTE,name:"class",evaluate:function(i){return i.state.active?"active":null}},{type:e.EVENT,name:"onclick",evaluate:function(i){return i.handleClick}}]},{redundantAttribute:"expr0",selector:"[expr0]",expressions:[{type:e.TEXT,childNodeIndex:0,evaluate:function(i){return i.props.title}}]},{redundantAttribute:"expr1",selector:"[expr1]",expressions:[{type:e.TEXT,childNodeIndex:0,evaluate:function(i){return["Clicked: ",i.state.count," times"].join("")}}]}])},name:"simple-component-riot"};Gt("simple-component-riot",Mn);bn(document.currentScript);qt("simple-component-riot");})();
/* Riot v5.4.5, @license MIT */
//# sourceMappingURL=wc-script_riot_wrapper.js.map
