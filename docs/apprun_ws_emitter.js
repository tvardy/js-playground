import{a as e}from"./chunk-GJZBSVPL.js";import{a as u}from"./chunk-M5O3SXJ6.js";import{a as s,b as a,h as r}from"./chunk-Z3EDBJV3.js";function i(t,n){return Math.round(Math.random()*(n-t))+t}r.debug("AppRun Client script started!");var c=({status:t,sending:n})=>app.h(app.Fragment,null,app.h("h1",null,"Emitter Works!"),app.h("h2",null,"Status: ",t),app.h("button",{onclick:"app.run('toggle')"},n?"Pause":"Play"),app.h("p",null,"See browser console if you want to trace the data being sent")),m={async init(t){try{return o.ws=await u(e.URL),r.debug("WS connected"),o.run("wait"),a(s({},t),{status:"connected"})}catch(n){return r.error("WS error:",n),a(s({},t),{status:"error"})}},wait(t){if(t.sending){let n=i(e.NUMBERS.time.min,e.NUMBERS.time.max);setTimeout(()=>o.run("sendValue"),n)}return t},sendValue(t){let n=i(e.NUMBERS.values.min,e.NUMBERS.values.max);return r.info("new value:",n),o.ws.emit("data",n),o.run("wait"),t},toggle(t){let n=a(s({},t),{sending:!t.sending});return n.sending&&setTimeout(()=>o.run("wait"),0),n}},o=app.start(e.APP_ROOT,{status:"connecting",sending:!0},c,m);o.run("init");
//# sourceMappingURL=apprun_ws_emitter.js.map
