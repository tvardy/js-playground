import{a as e}from"./chunk-GJZBSVPL.js";import{a as s,b as a,h as o}from"./chunk-Z3EDBJV3.js";function i(t,n){return Math.round(Math.random()*(n-t))+t}o.debug("AppRun Client script started!");var u=({status:t,sending:n})=>app.h(app.Fragment,null,app.h("h1",null,"Emitter Works!"),app.h("h2",null,"Status: ",t),app.h("button",{onclick:"app.run('toggle')"},n?"Pause":"Play"),app.h("p",null,"See browser console if you want to trace the data being sent")),c={async init(t){try{return r.ws=io(e.URL),o.debug("WS connected"),r.run("wait"),a(s({},t),{status:"connected"})}catch(n){return o.error("WS error:",n),a(s({},t),{status:"error"})}},wait(t){if(t.sending){let n=i(e.NUMBERS.time.min,e.NUMBERS.time.max);setTimeout(()=>r.run("sendValue"),n)}return t},sendValue(t){let n=i(e.NUMBERS.values.min,e.NUMBERS.values.max);return o.info("new value:",n),r.ws.emit("data",n),r.run("wait"),t},toggle(t){let n=a(s({},t),{sending:!t.sending});return n.sending&&setTimeout(()=>r.run("wait"),0),n}},r=app.start(e.APP_ROOT,{status:"connecting",sending:!0},u,c);r.run("init");
//# sourceMappingURL=apprun_ws_emitter.js.map
