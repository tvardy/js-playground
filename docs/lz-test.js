import{a as I,b as q,d as G,e as w,f as h,g,h as A,i as z,j as k,k as L,l as H,m as J,o as O,p as R,s as Y,y as Q,z as X}from"./chunk-GFUKPMIP.js";import{e as V}from"./chunk-DXN6V6KF.js";async function K(e){for(let s of e)if(typeof s!="function")throw new TypeError(`Expected task to be a \`Function\`, received \`${typeof s}\``);let t=[];for(let s of e)t.push(await s());return t}var ue=()=>URL.createObjectURL(new Blob).split("/").pop();function pe({debug:e,init:t}={},...s){let l=ce.toString().replace(/^\(?([a-z]+)\)?\s*=>\s*{/,(m,o)=>`const ${o}=${e?1:0};`).replace(/}$/,""),_=URL.createObjectURL(new Blob([l],{type:"text/javascript"}));this.worker=new Worker(_),URL.revokeObjectURL(_),this.func=null,this._cb=new Map,this.run={},this.callFunction=(m,...o)=>{this.worker.postMessage(m),this.worker.postMessage(o)},this.define=(m,o)=>{this.callFunction("define",m,o.toString()),this.run[m]=(...i)=>new Promise((p,u)=>{let d=`${m}:${ue()}`;this._cb.set(d,{resolve:p,reject:u}),this.callFunction(d,...i)})},this.worker.addEventListener("message",m=>{if(!this.func)this.func=m.data;else{let[o,i]=m.data,p=this._cb.get(this.func);o?p.reject(o):p.resolve(i),this._cb.delete(this.func),this.func=null}}),t&&(this.define("init",t),this.run.init(s))}var P=pe,ce=e=>{e&&console.debug("SideWorker initialised.");let t="ERROR! FUNCTION NOT DEFINED!",s=":",l=i=>i.split(s),_=(...i)=>i.join(s);function m(){this.func=!1,this.define=(i,p)=>{let u=new Function("return "+p)();this[i]=(d,n)=>{self.postMessage(_(i,d));try{let r=u.apply(this,n);r instanceof Promise?r.then(b=>self.postMessage([,b])):self.postMessage([,r])}catch(r){self.postMessage([r])}this.func=!1}}}let o=new m;self.addEventListener("message",i=>{if(o.func){let p=o.func,[u,d]=l(p);if(o.func=!1,e&&console.debug(u==="define"?`Defining "${i.data[0]}"`:`Calling "${u}" (id: ${d})`),o[u]){let n=u==="define"&&!d?i.data:[d,i.data];o[u].apply(o,n)}else console.error(t,o[u])}else{o.func=i.data;let[p]=l(i.data);o[p]||console.error(t,p)}})};var Z=new P({debug:!0,init:()=>{importScripts("https://unpkg.com/faker@5.5.3/dist/faker.min.js");let{fake:e,datatype:t}=faker;function s(){return{id:t.uuid(),firstName:e("{{name.firstName}}"),lastName:e("{{name.lastName}}"),avatarUrl:e("{{image.avatar}}"),email:e("{{internet.email}}"),phone:e("{{phone.phoneNumberFormat}}"),isPremium:t.boolean(),list:Array.from({length:t.number({min:10,max:15})},l)}}function l(){return{id:t.uuid(),title:e("{{commerce.productName}}"),amount:t.number({min:10,max:20}),created:new Date(e("{{date.past}}")).toISOString()}}self.generate=_=>Array.from({length:_},s)}});Z.define("generate",e=>self.generate(e));var $=Z;var C=new P({debug:!0,init:()=>{importScripts("https://unpkg.com/lzwcompress@1.1.0/lzwCompress.js"),importScripts("https://unpkg.com/web-compressor@0.5.1/new.js");let e=webCompressor;self.compress=async(l,_)=>(await self[l](_)).toString(),self.b64deflate=new e().compress,self.b64gzip=new e("gzip").compress,self.utf16deflate=new e("deflate","utf-16").compress,self.utf16gzip=new e("gzip","utf-16").compress;let t=l=>lzwCompress.pack(JSON.stringify(l)),s={bits:32,sep:":"};self.lzwDec=l=>t(l).join(s.sep),self.lzw32=l=>t(l).map(_=>_.toString(s.bits)).join(s.sep)}});C.define("b64deflate",e=>self.compress("b64deflate",e));C.define("b64gzip",e=>self.compress("b64gzip",e));C.define("utf16deflate",e=>self.compress("utf16deflate",e));C.define("utf16gzip",e=>self.compress("utf16gzip",e));C.define("lzwDec",e=>self.lzwDec(e));C.define("lzw32",e=>self.lzw32(e));var x=C;function ee(e,t,s){let l=e.slice();return l[14]=t[s],l}function te(e,t,s){let l=e.slice();return l[14]=t[s],l}function se(e){let t;return{c(){t=z("pre"),t.textContent="creating data...",O(t,"class","lz-result")},m(s,l){h(s,t,l)},d(s){s&&g(t)}}}function ne(e){let t;return{c(){t=z("pre"),t.textContent="compressing data...",O(t,"class","lz-result")},m(s,l){h(s,t,l)},d(s){s&&g(t)}}}function le(e){let t,s,l,_,m=e[5].json+"",o,i,p,u,d,n,r,b,c,S,M,j=e[4].jsonPretty+"",v,T,U,D=e[7],y=[];for(let f=0;f<D.length;f+=1)y[f]=oe(te(e,D,f));let F=e[7],N=[];for(let f=0;f<F.length;f+=1)N[f]=re(ee(e,F,f));return{c(){t=z("pre"),s=k("Number of records: "),l=k(e[3]),_=k(`
JSON string length: `),o=k(m),i=k(`

`),p=z("strong"),p.textContent="Compression type results:",u=k(`
`);for(let f=0;f<y.length;f+=1)y[f].c();d=k(`
`),n=L(),r=z("div"),b=z("details"),c=z("summary"),c.textContent="toggle JSON data",S=L(),M=z("pre"),v=k(j),T=L();for(let f=0;f<N.length;f+=1)N[f].c();U=H(),O(t,"class","lz-result"),O(r,"class","lz-data")},m(f,E){h(f,t,E),w(t,s),w(t,l),w(t,_),w(t,o),w(t,i),w(t,p),w(t,u);for(let a=0;a<y.length;a+=1)y[a].m(t,null);w(t,d),h(f,n,E),h(f,r,E),w(r,b),w(b,c),w(b,S),w(b,M),w(M,v),h(f,T,E);for(let a=0;a<N.length;a+=1)N[a].m(f,E);h(f,U,E)},p(f,E){if(E&8&&R(l,f[3]),E&32&&m!==(m=f[5].json+"")&&R(o,m),E&224){D=f[7];let a;for(a=0;a<D.length;a+=1){let W=te(f,D,a);y[a]?y[a].p(W,E):(y[a]=oe(W),y[a].c(),y[a].m(t,d))}for(;a<y.length;a+=1)y[a].d(1);y.length=D.length}if(E&16&&j!==(j=f[4].jsonPretty+"")&&R(v,j),E&144){F=f[7];let a;for(a=0;a<F.length;a+=1){let W=ee(f,F,a);N[a]?N[a].p(W,E):(N[a]=re(W),N[a].c(),N[a].m(U.parentNode,U))}for(;a<N.length;a+=1)N[a].d(1);N.length=F.length}},d(f){f&&g(t),A(y,f),f&&g(n),f&&g(r),f&&g(T),A(N,f),f&&g(U)}}}function oe(e){let t=e[14]+"",s,l,_=e[5][e[14]]+"",m,o,i=e[6][e[14]]+"",p,u,d;return{c(){s=k(t),l=k(": "),m=k(_),o=k(" ("),p=k(i),u=k(" %)"),d=z("br")},m(n,r){h(n,s,r),h(n,l,r),h(n,m,r),h(n,o,r),h(n,p,r),h(n,u,r),h(n,d,r)},p(n,r){r&32&&_!==(_=n[5][n[14]]+"")&&R(m,_),r&64&&i!==(i=n[6][n[14]]+"")&&R(p,i)},d(n){n&&g(s),n&&g(l),n&&g(m),n&&g(o),n&&g(p),n&&g(u),n&&g(d)}}}function re(e){let t,s,l,_=e[14]+"",m,o,i,p=e[4][e[14]]+"",u,d;return{c(){t=z("div"),s=z("details"),l=z("summary"),m=k(_),o=L(),i=z("pre"),u=k(p),d=L(),O(t,"class","lz-data wrap")},m(n,r){h(n,t,r),w(t,s),w(s,l),w(l,m),w(s,o),w(s,i),w(i,u),w(t,d)},p(n,r){r&16&&p!==(p=n[4][n[14]]+"")&&R(u,p)},d(n){n&&g(t)}}}function ae(e){let t,s,l,_,m,o,i,p,u,d,n=e[0]&&se(e),r=e[1]&&ne(e),b=e[2]&&le(e);return{c(){t=z("div"),s=k(`How many records to create:
  `),l=z("span"),_=k(e[3]),m=L(),n&&n.c(),o=L(),r&&r.c(),i=L(),b&&b.c(),p=H(),O(l,"contenteditable",""),e[3]===void 0&&Y(()=>e[10].call(l)),O(t,"class","lz-input")},m(c,S){h(c,t,S),w(t,s),w(t,l),w(l,_),e[3]!==void 0&&(l.innerHTML=e[3]),h(c,m,S),n&&n.m(c,S),h(c,o,S),r&&r.m(c,S),h(c,i,S),b&&b.m(c,S),h(c,p,S),u||(d=[J(l,"keydown",e[8]),J(l,"input",e[10])],u=!0)},p(c,[S]){S&8&&R(_,c[3]),S&8&&c[3]!==l.innerHTML&&(l.innerHTML=c[3]),c[0]?n||(n=se(c),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null),c[1]?r||(r=ne(c),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null),c[2]?b?b.p(c,S):(b=le(c),b.c(),b.m(p.parentNode,p)):b&&(b.d(1),b=null)},i:I,o:I,d(c){c&&g(t),c&&g(m),n&&n.d(c),c&&g(o),r&&r.d(c),c&&g(i),b&&b.d(c),c&&g(p),u=!1,q(d)}}}function me(e,t,s){let l=!1,_=!1,m=!1,o=0,i=null,p=["lzwDec","lzw32","b64deflate","b64gzip","utf16deflate","utf16gzip"],u={json:null,jsonPretty:null},d={json:null},n={};function r(j){!j.altKey&&!j.ctrlKey&&!j.metaKey&&!j.shiftKey&&s(9,i=null),j.which===13&&(j.preventDefault(),b())}async function b(){if(s(3,o=parseInt(o)),o>0){s(0,l=!0),s(9,i=await c()),s(0,l=!1),s(4,u.json=JSON.stringify(i),u),s(5,d.json=u.json.length,d),s(4,u.jsonPretty=JSON.stringify(i,null,2),u),s(1,_=!0);let j=await K(S());s(1,_=!1),p.forEach((v,T)=>{s(4,u[v]=j[T],u),s(5,d[v]=u[v].length,d),s(6,n[v]=(d[v]/d.json*100).toFixed(2),n)})}}async function c(){return $.run.generate(o)}function S(){return p.map(j=>()=>x.run[j](u.json))}function M(){o=this.innerHTML,s(3,o)}return e.$$.update=()=>{if(e.$$.dirty&515){e:s(2,m=i&&!l&&!_)}},[l,_,m,o,u,d,n,p,r,i,M]}var B=class extends X{constructor(t){super(),Q(this,t,me,ae,G,{})}},ie=B;var fe=new ie({target:document.getElementById("app"),props:{name:"world"}});fe&&V.debug("Svelte working fine");var Le=fe;export{Le as default};
//# sourceMappingURL=lz-test.js.map
