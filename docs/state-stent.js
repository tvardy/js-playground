import{a as de,b as le,c as se,d as _e}from"./chunk-UQCR4KAB.js";import{a as K}from"./chunk-UMJWBTM6.js";import"./chunk-3O3ZY56E.js";import"./chunk-A3FY5HQS.js";import"./chunk-N5LVMZ52.js";import"./chunk-GFUKPMIP.js";import{a as R,b as Xe,c as Ee}from"./chunk-DXN6V6KF.js";var D=R(s=>{"use strict";s.__esModule=!0;var Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr=s.ERROR_MISSING_MACHINE=function(t){return"There's no machine with name "+t},sr=s.ERROR_MISSING_STATE='Configuration error: missing initial "state"',_r=s.ERROR_MISSING_TRANSITIONS='Configuration error: missing "transitions"',cr=s.ERROR_WRONG_STATE_FORMAT=function(t){var r=(typeof t>"u"?"undefined":Be(t))==="object"?JSON.stringify(t,null,2):t;return'The state should be an object and it should always have at least "name" property. You passed '+r},Rr=s.ERROR_UNCOVERED_STATE=function(t){return"You just transitioned the machine to a state ("+t+") which is not defined or it has no actions. This means that the machine is stuck."},pr=s.ERROR_NOT_SUPPORTED_HANDLER_TYPE="Wrong handler type passed. Please read the docs https://github.com/krasimir/stent",Sr=s.ERROR_RESERVED_WORD_USED_AS_ACTION=function(t){return"Sorry, you can't use "+t+" as a name for an action. It is reserved."},vr=s.ERROR_GENERATOR_FUNC_CALL_FAILED=function(t){return"The argument passed to `call` is falsy ("+t+")"},Dr=s.MIDDLEWARE_PROCESS_ACTION="onActionDispatched",Ar=s.MIDDLEWARE_ACTION_PROCESSED="onActionProcessed",yr=s.MIDDLEWARE_STATE_WILL_CHANGE="onStateWillChange",Mr=s.MIDDLEWARE_PROCESS_STATE_CHANGE="onStateChanged",Or=s.MIDDLEWARE_GENERATOR_STEP="onGeneratorStep",hr=s.MIDDLEWARE_GENERATOR_END="onGeneratorEnd",Ir=s.MIDDLEWARE_GENERATOR_RESUMED="onGeneratorResumed",Tr=s.MIDDLEWARE_MACHINE_CREATED="onMachineCreated",mr=s.MIDDLEWARE_MACHINE_CONNECTED="onMachineConnected",Nr=s.MIDDLEWARE_MACHINE_DISCONNECTED="onMachineDisconnected",Cr=s.MIDDLEWARE_REGISTERED="onMiddlewareRegister",Lr=s.DEVTOOLS_KEY="__hello__stent__"});var Re=R((T,ce)=>{"use strict";T.__esModule=!0;var Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};T.default=$e;var Ze=D();function $e(e){if(e&&(typeof e>"u"?"undefined":Qe(e))==="object"&&typeof e.name<"u")return e;throw new Error((0,Ze.ERROR_WRONG_STATE_FORMAT)(e))}ce.exports=T.default});var Se=R((m,pe)=>{"use strict";m.__esModule=!0;m.default=ke;function ke(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}pe.exports=m.default});var M=R((N,ve)=>{"use strict";N.__esModule=!0;N.default=et;var je=C();function et(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),u=2;u<r;u++)n[u-2]=arguments[u];var a=je.Machine.middlewares;if(a.length!==0){var _=function(f,l){return f<a.length-1?l(f+1):null};(function d(f){var l=a[f];l&&typeof l[e]<"u"&&l[e].apply(t,n),_(f,d)})(0)}}ve.exports=N.default});var X=R((L,Ae)=>{"use strict";L.__esModule=!0;L.default=ot;var tt=Re(),rt=J(tt),nt=Se(),at=J(nt),ut=M(),De=J(ut),z=D();function J(e){return e&&e.__esModule?e:{default:e}}function ot(e,t){var r;if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number"?r={name:t.toString()}:r=(0,rt.default)(t),typeof e.transitions[r.name]>"u"||(0,at.default)(e.transitions[r.name]))throw new Error((0,z.ERROR_UNCOVERED_STATE)(r.name));(0,De.default)(z.MIDDLEWARE_STATE_WILL_CHANGE,e),e.state=r,(0,De.default)(z.MIDDLEWARE_PROCESS_STATE_CHANGE,e)}}Ae.exports=L.default});var Ie=R((g,he)=>{"use strict";g.__esModule=!0;var ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};g.default=Oe;var it=M(),A=Me(it),v=D(),ft=X(),Et=Me(ft);function Me(e){return e&&e.__esModule?e:{default:e}}function Oe(e,t,r,n){var u=function(i,E){return!d&&i.next(E)},a=function(i,E){return!d&&i.throw(E)},_=function(){f&&f(),d=!0},d=!1,f,l=function o(i){if(!d)if(i.done)(0,A.default)(v.MIDDLEWARE_GENERATOR_END,e,i.value),r(i.value);else if((0,A.default)(v.MIDDLEWARE_GENERATOR_STEP,e,i.value),ye(i.value)==="object"&&i.value.__type==="call"){var E=i.value,c=E.func,ie=E.args;if(!c){var fe=(0,v.ERROR_GENERATOR_FUNC_CALL_FAILED)(typeof c>"u"?"undefined":ye(c));return(0,A.default)(v.MIDDLEWARE_GENERATOR_RESUMED,e,fe),o(a(t,new Error(fe)))}try{var y=c.apply(void 0,ie);if(!y){(0,A.default)(v.MIDDLEWARE_GENERATOR_RESUMED,e),o(u(t));return}if(typeof y.then<"u")y.then(function(S){return(0,A.default)(v.MIDDLEWARE_GENERATOR_RESUMED,e,S),o(u(t,S))},function(S){return(0,A.default)(v.MIDDLEWARE_GENERATOR_RESUMED,e,S),o(a(t,S))});else if(typeof y.next=="function")try{f=Oe(e,y,function(S){(0,A.default)(v.MIDDLEWARE_GENERATOR_RESUMED,e,S),o(u(t,S))})}catch(S){return o(a(t,S))}else(0,A.default)(v.MIDDLEWARE_GENERATOR_RESUMED,e,y),o(u(t,y))}catch(S){return o(a(t,S))}}else(0,Et.default)(e,i.value),(0,A.default)(v.MIDDLEWARE_GENERATOR_RESUMED,e),o(u(t))};return l(u(t,n)),_}he.exports=g.default});var Z=R((w,Te)=>{"use strict";w.__esModule=!0;var dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};w.default=pt;var W=D(),st=X(),G=Q(st),_t=M(),B=Q(_t),ct=Ie(),Rt=Q(ct);function Q(e){return e&&e.__esModule?e:{default:e}}function pt(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),u=2;u<r;u++)n[u-2]=arguments[u];var a=e.state,_=e.transitions;if(!_[a.name])return!1;var d=_[a.name][t];if(typeof d>"u")return!1;if(B.default.apply(void 0,[W.MIDDLEWARE_PROCESS_ACTION,e,t].concat(n)),typeof d=="string")(0,G.default)(e,lt({},a,{name:_[a.name][t]}));else if((typeof d>"u"?"undefined":dt(d))==="object")(0,G.default)(e,d);else if(typeof d=="function"){var f,l=(f=_[a.name])[t].apply(f,[e].concat(n));if(l&&typeof l.next=="function"){var o=l;return(0,Rt.default)(e,o,function(i){(0,G.default)(e,i),B.default.apply(void 0,[W.MIDDLEWARE_ACTION_PROCESSED,e,t].concat(n))})}else(0,G.default)(e,l)}else throw new Error(W.ERROR_NOT_SUPPORTED_HANDLER_TYPE);B.default.apply(void 0,[W.MIDDLEWARE_ACTION_PROCESSED,e,t].concat(n))}Te.exports=w.default});var Ne=R((q,me)=>{"use strict";q.__esModule=!0;q.default=At;var St=Z(),vt=Dt(St);function Dt(e){return e&&e.__esModule?e:{default:e}}var $={};function At(e,t){$[t]&&$[t]();for(var r=arguments.length,n=Array(r>2?r-2:0),u=2;u<r;u++)n[u-2]=arguments[u];$[t]=vt.default.apply(void 0,[e,t].concat(n))}me.exports=q.default});var Le=R((P,Ce)=>{"use strict";P.__esModule=!0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};P.default=yt;var j=D();function yt(e){if((typeof e>"u"?"undefined":k(e))!=="object")throw new Error(j.ERROR_MISSING_STATE);var t=e.state,r=e.transitions;if((typeof t>"u"?"undefined":k(t))!=="object")throw new Error(j.ERROR_MISSING_STATE);if((typeof r>"u"?"undefined":k(r))!=="object")throw new Error(j.ERROR_MISSING_TRANSITIONS);return!0}Ce.exports=P.default});var We=R((U,ge)=>{"use strict";U.__esModule=!0;var Mt=/^[\W_]+/,Ot=/[\W_]+/g;U.default=function(e){return e.replace(Mt,"").split(Ot).reduce(function(t,r,n){return n===0?r=r.charAt(0).toLowerCase()+r.substr(1):r=r.charAt(0).toUpperCase()+r.substr(1),t+=r,t},"")};ge.exports=U.default});var we=R((H,Ge)=>{"use strict";H.__esModule=!0;H.default=Nt;var ht=We(),ee=Tt(ht),It=D();function Tt(e){return e&&e.__esModule?e:{default:e}}var mt=["name","transitions","state","destroy"];function Nt(e,t,r,n){for(var u in t){(function(f){e[(0,ee.default)("is "+f)]=function(){return e.state.name===f}})(u);for(var a in t[u]){var _=(0,ee.default)(a),d=(0,ee.default)("is "+a+" allowed");if(mt.indexOf(_)>=0)throw new Error((0,It.ERROR_RESERVED_WORD_USED_AS_ACTION)(_));(function(f,l,o){e[f]=function(){for(var i=arguments.length,E=Array(i),c=0;c<i;c++)E[c]=arguments[c];return r.apply(void 0,[o].concat(E))},e[f].latest=function(){for(var i=arguments.length,E=Array(i),c=0;c<i;c++)E[c]=arguments[c];return n.apply(void 0,[o].concat(E))},e[l]=function(){return!t[e.state.name]||typeof t[e.state.name][o]<"u"}})(_,d,a)}}}Ge.exports=H.default});var Ue=R((x,Pe)=>{"use strict";x.__esModule=!0;var Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};x.default=bt;var Lt=Z(),gt=b(Lt),Wt=Ne(),Gt=b(Wt),wt=Le(),qt=b(wt),Pt=we(),Ut=b(Pt);function b(e){return e&&e.__esModule?e:{default:e}}var Ht=0,qe=function(){return"_@@@"+ ++Ht};function bt(e,t){(typeof e>"u"?"undefined":Ct(e))==="object"&&(typeof t>"u"?(t=e,e=qe()):(t={state:e,transitions:t},e=qe()));var r={name:e};(0,qt.default)(t);var n=t,u=n.state,a=n.transitions,_=function(l){for(var o=arguments.length,i=Array(o>1?o-1:0),E=1;E<o;E++)i[E-1]=arguments[E];return gt.default.apply(void 0,[r,l].concat(i))},d=function(l){for(var o=arguments.length,i=Array(o>1?o-1:0),E=1;E<o;E++)i[E-1]=arguments[E];return Gt.default.apply(void 0,[r,l].concat(i))};return r.state=u,r.transitions=a,(0,Ut.default)(r,a,_,d),r}Pe.exports=x.default});var ne=R(O=>{"use strict";O.__esModule=!0;O.flush=zt;O.getMapping=Jt;O.destroy=Xt;O.default=Bt;var He=C(),xt=M(),te=Ft(xt),re=D();function Ft(e){return e&&e.__esModule?e:{default:e}}var Vt=0,p=null,Yt=function(){return"m"+ ++Vt},Kt=function(){p===null&&(p={},He.Machine.addMiddleware({onStateChanged:function(){for(var r in p){var n=p[r],u=n.done,a=n.machines;a.map(function(_){return _.name}).indexOf(this.name)>=0&&u&&u.apply(void 0,a)}}}))};function zt(){p=null}function Jt(){return p}function Xt(e){for(var t in p)p[t].machines=p[t].machines.filter(function(r){var n=r.name;return n!==e}),(0,te.default)(re.MIDDLEWARE_MACHINE_DISCONNECTED,null,p[t].machines),p[t].machines.length===0&&delete p[t]}function Bt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.meta;Kt();var r=function(){for(var u=arguments.length,a=Array(u),_=0;_<u;_++)a[_]=arguments[_];var d=a.map(function(l){return He.Machine.get(l)}),f=function(o,i,E){var c=Yt();return!i&&(p[c]={done:o,machines:d}),!E&&o&&o.apply(void 0,d),function(){(0,te.default)(re.MIDDLEWARE_MACHINE_DISCONNECTED,null,d,t),p&&p[c]&&delete p[c]}};return(0,te.default)(re.MIDDLEWARE_MACHINE_CONNECTED,null,d,t),{map:f,mapOnce:function(o){return f(o,!0)},mapSilent:function(o){return f(o,!1,!0)}}};return{with:r}}});var ae=R((F,be)=>{"use strict";F.__esModule=!0;F.default=Qt;function Qt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{__type:"call",func:e,args:r}}be.exports=F.default});var C=R(Y=>{"use strict";Y.__esModule=!0;Y.Machine=void 0;var Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t=Ue(),kt=V($t),h=D(),ue=ne(),jt=V(ue),er=ae(),tr=V(er),rr=M(),nr=V(rr);function V(e){return e&&e.__esModule?e:{default:e}}function ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ur=function(){function e(){ar(this,e),this.machines={},this.middlewares=[],this.connect=jt.default,this.call=tr.default}return e.prototype.create=function(r,n){var u=this,a=(0,kt.default)(r,n,this.middlewares);return this.machines[a.name]=a,(0,nr.default)(h.MIDDLEWARE_MACHINE_CREATED,a,a),a.destroy=function(){return u.destroy(a)},a},e.prototype.get=function(r){if((typeof r>"u"?"undefined":Zt(r))==="object"&&(r=r.name),this.machines[r])return this.machines[r];throw new Error((0,h.ERROR_MISSING_MACHINE)(r))},e.prototype.flush=function(){this.machines={},this.middlewares=[],(0,ue.flush)()},e.prototype.addMiddleware=function(r){Array.isArray(r)?this.middlewares=this.middlewares.concat(r):this.middlewares.push(r),r.__initialize&&r.__initialize(this),r[h.MIDDLEWARE_REGISTERED]&&r[h.MIDDLEWARE_REGISTERED]()},e.prototype.destroy=function(r){var n=r;if(typeof r=="string"&&(n=this.machines[r],!n))throw new Error((0,h.ERROR_MISSING_MACHINE)(r));delete this.machines[n.name],(0,ue.destroy)(n.name)},e}(),xe=new ur;Y.Machine=xe;typeof window<"u"&&(window[h.DEVTOOLS_KEY]=xe)});var Ve=R(I=>{"use strict";I.__esModule=!0;I.connect=I.call=void 0;var or=ae(),ir=Fe(or),fr=ne(),Er=Fe(fr);function Fe(e){return e&&e.__esModule?e:{default:e}}I.call=ir.default;I.connect=Er.default});var oe={};Xe(oe,{connect:()=>dr});var ze=Ee(C(),1),Je=Ee(Ve(),1);var Ye="default",Ke=ze.Machine.create({name:Ye,...se},{[Ye]:{toggle({state:e},t){return{...e,todos:e.todos.map(r=>(r.id===t&&(r.done=!r.done),r))}},add({state:e},t){return{...e,todos:[{text:t,done:!1,id:le()},...e.todos]}}}}),dr=(e=K,t=K)=>{(0,Je.connect)().with(Ke.name).map(r=>e(r.state)),t(Ke)};de("Stent",oe,_e);
//# sourceMappingURL=state-stent.js.map
